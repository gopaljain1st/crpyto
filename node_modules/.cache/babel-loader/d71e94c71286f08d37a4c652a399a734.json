{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/VikasJain/OneDrive - Aspirenxt Pvt Ltd/Desktop/interview/new/crypto-tracker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/VikasJain/OneDrive - Aspirenxt Pvt Ltd/Desktop/interview/new/crypto-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/VikasJain/OneDrive - Aspirenxt Pvt Ltd/Desktop/interview/new/crypto-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{CoinList}from\"../config/Api\";import{CryptoState}from\"../CryptoContext\";import\"./assests/css/new.css\";import axios from\"axios\";import{//Container,\ncreateTheme,LinearProgress,makeStyles,//Table,\n//TableBody,\n//TableCell,\n//table,\n//TableHead,\n//TableRow,\nThemeProvider,Typography}from\"@material-ui/core\";import{useNavigate}from\"react-router-dom\";import{numberWithCommas}from\"./Banner/Carousel\";import{Pagination}from\"@material-ui/lab\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Coinstable=function Coinstable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coins=_useState2[0],setCoins=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var navigate=useNavigate();var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _CryptoState=CryptoState(),currency=_CryptoState.currency,symbol=_CryptoState.symbol;useEffect(function(){var fetchCoins=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get(CoinList(currency));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setCoins(data);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchCoins(){return _ref.apply(this,arguments);};}();fetchCoins();},[currency]);var darkTheme=createTheme({palette:{primary:{main:\"#fff\"},type:\"dark\"}});var useStyles=makeStyles({row:{backgroundColor:\"#16171a\",cursor:\"pointer\",\"&:hover\":{backgroundColor:\"#131111\"},fontFamily:\"Montserrat\",fontSize:\"12px\"},pagination:{\"& .MuiPaginationItem-root\":{color:\"gold\"}}});var classes=useStyles();var finalData=coins.slice((page-1)*10,(page-1)*10+5).map(function(row){var profit=row.price_change_percentage_24h>0;return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return navigate(\"/coins/\".concat(row.id));},className:classes.row,style:{color:\"white\",align:\"left\"},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:row===null||row===void 0?void 0:row.image,alt:row.name,height:\"50\",style:{marginBottom:10}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{textTransform:\"uppercase\",fontSize:22},children:row.symbol}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"darkgrey\"},children:row.name})]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"mid1\",children:[symbol,\" \",numberWithCommas(row.current_price.toFixed(1))]}),/*#__PURE__*/_jsxs(\"td\",{style:{color:profit>0?\"rgba(14,203,129)\":\"red\",fontWeight:300},children:[profit&&\"+\",row.price_change_percentage_24h.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[symbol,\" \",numberWithCommas(row.market_cap.toString().slice(0,3)),\"M\"]})]},row.name);});return/*#__PURE__*/_jsx(ThemeProvider,{theme:darkTheme,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{margin:18,fontFamily:\"Montserrat\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"market\",children:\" Cryptocurrency Prices by Market Cap\"})}),loading?/*#__PURE__*/_jsx(LinearProgress,{style:{backgroundColor:\"gold\"}}):/*#__PURE__*/_jsxs(\"table\",{class:\"table  mytable\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:\"#EEBC1D\"},children:/*#__PURE__*/_jsxs(\"tr\",{className:\"theader\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"coin\",children:\"Coin\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"change\",children:\"24h Change\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"cap\",children:\"Market Cap\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:finalData})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Pagination,{style:{padding:10,display:\"flex\",justifyContent:\"center \"},classes:{ul:classes.pagination},count:(coins.length/10).toFixed(0),onChange:function onChange(_,value){setPage(value);window.scroll(0,450);}})})]})});};export default Coinstable;","map":{"version":3,"names":["React","useEffect","useState","CoinList","CryptoState","axios","createTheme","LinearProgress","makeStyles","ThemeProvider","Typography","useNavigate","numberWithCommas","Pagination","Coinstable","coins","setCoins","loading","setLoading","navigate","page","setPage","currency","symbol","fetchCoins","get","data","darkTheme","palette","primary","main","type","useStyles","row","backgroundColor","cursor","fontFamily","fontSize","pagination","color","classes","finalData","slice","map","profit","price_change_percentage_24h","id","align","image","name","marginBottom","display","flexDirection","textTransform","current_price","toFixed","fontWeight","market_cap","toString","textAlign","margin","padding","justifyContent","ul","length","_","value","window","scroll"],"sources":["C:/Users/VikasJain/OneDrive - Aspirenxt Pvt Ltd/Desktop/interview/new/crypto-tracker/src/components/Coinstable.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CoinList } from \"../config/Api\";\r\nimport { CryptoState } from \"../CryptoContext\";\r\nimport \"./assests/css/new.css\";\r\nimport axios from \"axios\";\r\nimport {\r\n  //Container,\r\n  createTheme,\r\n  LinearProgress,\r\n  makeStyles,\r\n  //Table,\r\n  //TableBody,\r\n  //TableCell,\r\n  //table,\r\n  //TableHead,\r\n  //TableRow,\r\n  ThemeProvider,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { numberWithCommas } from \"./Banner/Carousel\";\r\nimport { Pagination } from \"@material-ui/lab\";\r\n\r\nconst Coinstable = () => {\r\n  const [coins, setCoins] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [page, setPage] = useState(1);\r\n\r\n  const { currency, symbol } = CryptoState();\r\n\r\n  useEffect(() => {\r\n    const fetchCoins = async () => {\r\n      setLoading(true);\r\n      const { data } = await axios.get(CoinList(currency));\r\n      setCoins(data);\r\n      setLoading(false);\r\n    };\r\n    fetchCoins();\r\n  }, [currency]);\r\n\r\n  const darkTheme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: \"#fff\",\r\n      },\r\n      type: \"dark\",\r\n    },\r\n  });\r\n\r\n  const useStyles = makeStyles({\r\n    row: {\r\n      backgroundColor: \"#16171a\",\r\n      cursor: \"pointer\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#131111\",\r\n      },\r\n      fontFamily: \"Montserrat\",\r\n      fontSize: \"12px\",\r\n    },\r\n    pagination: {\r\n      \"& .MuiPaginationItem-root\": {\r\n        color: \"gold\",\r\n      },\r\n    },\r\n  });\r\n\r\n  const classes = useStyles();\r\n\r\n  const finalData = coins\r\n    .slice((page - 1) * 10, (page - 1) * 10 + 5)\r\n    .map((row) => {\r\n      const profit = row.price_change_percentage_24h > 0;\r\n      return (\r\n        <tr\r\n          onClick={() => navigate(`/coins/${row.id}`)}\r\n          className={classes.row}\r\n          style={{ color: \"white\", align: \"left\" }}\r\n          key={row.name}\r\n        >\r\n          <td>\r\n            <img\r\n              src={row?.image}\r\n              alt={row.name}\r\n              height=\"50\"\r\n              style={{ marginBottom: 10 }}\r\n            />\r\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n              <span\r\n                style={{\r\n                  textTransform: \"uppercase\",\r\n                  fontSize: 22,\r\n                }}\r\n              >\r\n                {row.symbol}\r\n              </span>\r\n              <span style={{ color: \"darkgrey\" }}>{row.name}</span>\r\n            </div>\r\n          </td>\r\n\r\n          <td className=\"mid1\">\r\n            {symbol} {numberWithCommas(row.current_price.toFixed(1))}\r\n          </td>\r\n          <td\r\n            style={{\r\n              color: profit > 0 ? \"rgba(14,203,129)\" : \"red\",\r\n              fontWeight: 300,\r\n            }}\r\n          >\r\n            {profit && \"+\"}\r\n            {row.price_change_percentage_24h.toFixed(2)}%\r\n          </td>\r\n          <td>\r\n            {symbol} {numberWithCommas(row.market_cap.toString().slice(0, 3))}M\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <ThemeProvider theme={darkTheme}>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Typography\r\n          variant=\"h5\"\r\n          style={{\r\n            margin: 18,\r\n            fontFamily: \"Montserrat\",\r\n          }}\r\n        >\r\n          <div className=\"market\"> Cryptocurrency Prices by Market Cap</div>\r\n        </Typography>\r\n        {loading ? (\r\n          <LinearProgress style={{ backgroundColor: \"gold\" }} />\r\n        ) : (\r\n          <table class=\"table  mytable\">\r\n            <thead style={{ backgroundColor: \"#EEBC1D\" }}>\r\n              <tr className=\"theader\">\r\n                <th scope=\"col\" className=\"coin\">\r\n                  Coin\r\n                </th>\r\n                <th scope=\"col\" className=\"price\">\r\n                  Price\r\n                </th>\r\n                <th scope=\"col\" className=\"change\">\r\n                  24h Change\r\n                </th>\r\n                <th scope=\"col\" className=\"cap\">\r\n                  Market Cap\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>{finalData}</tbody>\r\n          </table>\r\n        )}\r\n        <div className=\"container\">\r\n          <Pagination\r\n            style={{\r\n              padding: 10,\r\n              display: \"flex\",\r\n              justifyContent: \"center \",\r\n            }}\r\n            classes={{ ul: classes.pagination }}\r\n            count={(coins.length / 10).toFixed(0)}\r\n            onChange={(_, value) => {\r\n              setPage(value);\r\n              window.scroll(0, 450);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Coinstable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}